---
import "@fontsource-variable/source-code-pro";
import "@fontsource/fira-sans/100.css";
import "@fontsource/fira-sans/200.css";
import "@fontsource/fira-sans/300.css";
import "@fontsource/fira-sans/400.css";
import "@fontsource/fira-sans/500.css";
import "@fontsource/fira-sans/600.css";
import "@fontsource/fira-sans/700.css";
import "@fontsource/fira-sans/800.css";
import "@fontsource/fira-sans/900.css";
import "@fontsource/rubik-mono-one";
import Header from "../components/Header";
import Footer from "../components/Footer";
import BaseLayout from "./BaseLayout.astro";
import Breadcrumbs from "../components/Breadcrumbs.astro";

// 1. The frontmatter prop gives access to frontmatter and other data
const { frontmatter, breadcrumbData } = Astro.props;
---

<BaseLayout frontmatter={frontmatter}>
  <div class="sticky-toc">
    <Header />
    <Breadcrumbs data={breadcrumbData} />
  </div>
  <div class="page-content">
    <slot />
  </div>
</BaseLayout>

<!-- <style is:global>
  body {
    font-family: "Fira Sans", sans-serif;
    font-weight: 400;
  }

  h1:not(#logo) {
    font-weight: 800;
    padding-top: 2ex;
  }

  p code,
  li code {
    font-family: "Source Code Pro Variable", sans-serif;
    font-weight: 800;
    border: 1px solid darkgray;
    border-radius: 5px;
    padding-left: 0.3em;
    padding-right: 0.3em;
  }
</style> -->

<style>
  /* @media (min-width: 800px) {
    .content {
      display: flex;
      gap: 5rem;
    }
    .sticky-toc {
      position: sticky;
      top: 0;
      padding: 1rem;
      max-height: calc(100vh - 2rem);
      min-width: 20%;
      overflow-y: auto;
    }
    .post-content {
      max-width: 80%;
    }
    div.header {
      display: none;
    }
    div.nav-toggle {
      display: none;
    }
  } */
  /* @media (max-width: 799px) {
  
    .hidden {
      display: none;
    }
  
    .sticky-toc {
      position: fixed;
      top: 0;
      right: 0;
      height: 100%;
      width: min(300px, 100vw);
      max-width: 100vw;
      padding: 2rem;
      margin-left: auto;
      margin-right auto;
      overflow-y: auto;
      background: rgb(255, 255, 255, 0.9);
    }
  } */

  /* .header {
    position: fixed;
    top: 0;
    left: 0;
    height: 3rem;
    width: 100%;
    background: white;
    box-shadow: 0px 10px 10px lightgray;
    display: flex;
    justify-content: center;
    padding: 1rem;
    margin: 0;
  } */


  <style>
  @media (min-width: 800px) {
    .page-content {
      width: 80%;
    }
  }

  @media (max-width: 799px) {
    .page-content {
      width: 100%;
    }
  }
</style>

<style is:global>
  @media (min-width: 800px) {
    .page-content {
      width: 80%;
    }
    .sticky-toc {
      position: sticky;
      top: 0;
      padding: 1rem;
      max-height: calc(100vh - 2rem);
      min-width: 20%;
      overflow-y: auto;
    }
  }

  @media (max-width: 799px) {
    .page-content {
      width: 100%;
      padding-top: 6rem;
    }
    .sticky-toc {
      position: fixed;
      top: 0;
      right: 0;
      height: 100%;
      width: min(300px, 100vw);
      max-width: 100vw;
      padding: 2rem;
      margin-left: auto;
      margin-right auto;
      overflow-y: auto;
      background: rgb(255, 255, 255, 0.9);
      z-index: 2000;
    }
    .hidden {
      display: none;
    }
  }
</style>
